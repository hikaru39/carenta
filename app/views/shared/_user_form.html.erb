<%= render "shared/errors", obj: @user %>

<table class="attr">
  <tr>
    <th><%= form.label :new_profile_picture %></th>
    <td>
      <div><%= form.file_field :new_profile_picture %></div>
      <% if @user.profile_picture.attached? %>
        <div>
          <%= image_tag @user.profile_picture.variant(resize: "128x128") %>
          <%= form.check_box :remove_profile_picture %>
          <%= form.label :remove_profile_picture %>
        </div>
      <% end %>
    </td>
  </tr>
  <tr>
    <th><%= form.label :name %></th>
    <td><%= form.text_field :name %></td>
  </tr>
  <tr>
    <th><%= form.label :email %></th>
    <td><%= form.text_field :email %></td>
  </tr>
  <% if @user.new_record? %>
    <tr>
      <th><%= form.label :password, "パスワード" %></th>
      <td><%= form.text_field :password %></td>
    </tr>
  <% end %>
  <tr>
    <th><%= form.label :last_name %></th>
    <td><%= form.text_field :last_name %></td>
  </tr>
  <tr>
    <th><%= form.label :first_name %></th>
    <td><%= form.text_field :first_name %></td>
  </tr>
  <tr>
    <th><%= form.label :postal_code %></th>
    <td><%= form.text_field :postal_code %></td>
  </tr>
  <tr>
    <th><%= form.label :prefecture %></th>
    <td><%= form.collection_select :prefecture_id, Prefecture.all, :id, :name %></td>
  </tr>
  <tr>
    <th><%= form.label :address1 %></th>
    <td><%= form.text_field :address1 %></td>
  </tr>
  <tr>
    <th><%= form.label :address2 %></th>
    <td><%= form.text_field :address2 %></td>
  </tr>
  <tr>
    <th><%= form.label :description %></th>
    <td><%= form.text_area :description %></td>
  </tr>
  <% if current_user&.administrator_flag? %>
    <tr>
      <th><%= User.human_attribute_name(:administrator_flag) %></th>
      <td>
        <%= form.check_box :administrator_flag %>
        <%= form.label :administrator_flag %>
      </td>
    </tr>
  <% end %>
</table>